<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ambient Occlusion in Metal</title>
  <meta name="description" content="Today we will be looking into ambient occlusion. We are going to work on the playground we used in Shadows in Metal part 2 and build up on that. First, let’s...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/MetalKit/images/master/metal_ico.png" />
  <link rel="canonical" href="http://localhost:4000/2017/03/22/ambient-occlusion-in-metal.html">
  <link rel="alternate" type="application/rss+xml" title="The Metal Framework" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">

    <a class="site-title" href="/">The Metal Framework</a>

    <nav class="site-nav">
    
    <!--
      <a href="/archive.html" style="color:grey;">Archives</a>&nbsp;&nbsp;&nbsp;
    -->
    
      <a href="/contact.html" style="color:grey;">Contact</a>&nbsp;&nbsp;&nbsp;
      <a href="/feed.xml" style="color:grey;">RSS</a>
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Ambient Occlusion in Metal</h1>
    <p class="post-meta"><time datetime="2017-03-22T00:00:00-05:00" itemprop="datePublished">Mar 22, 2017</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name"><a href = "https://twitter.com/gpu3d" target="_blank">Marius Horga</a></span></span></p>
  </header>

  <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_reddit"></a>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_linkedin"></a>
    <a class="a2a_button_email"></a>
  </div>
  <script async src="https://static.addtoany.com/menu/page.js"></script><br /><br />

  <div class="post-content" itemprop="articleBody">
    <p>Today we will be looking into <strong>ambient occlusion</strong>. We are going to work on the playground we used in <a href="http://metalkit.org/2017/02/28/shadows-in-metal-part-2.html">Shadows in Metal part 2</a> and build up on that. First, let’s add a new object type - a rectangular box:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">struct</span> <span class="kt">Box</span> <span class="p">{</span>
    <span class="n">float3</span> <span class="n">center</span><span class="p">;</span>
    <span class="n">float</span> <span class="n">size</span><span class="p">;</span>
    <span class="kt">Box</span><span class="p">(</span><span class="n">float3</span> <span class="n">c</span><span class="p">,</span> <span class="n">float</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">center</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>

<p>Next, let’s also add a new distance function for our new struct:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">float</span> <span class="nf">distToBox</span><span class="p">(</span><span class="kt">Ray</span> <span class="n">r</span><span class="p">,</span> <span class="kt">Box</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">float3</span> <span class="n">d</span> <span class="o">=</span> <span class="nf">abs</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">origin</span> <span class="o">-</span> <span class="n">b</span><span class="o">.</span><span class="n">center</span><span class="p">)</span> <span class="o">-</span> <span class="nf">float3</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">size</span><span class="p">);</span>
    <span class="k">return</span> <span class="nf">min</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nf">max</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">z</span><span class="p">)),</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span> <span class="nf">length</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">));</span>
<span class="p">}</span></code></pre></figure>

<p>Then, update our scene to something new:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">float</span> <span class="nf">distToScene</span><span class="p">(</span><span class="kt">Ray</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">Plane</span> <span class="n">p</span> <span class="o">=</span> <span class="kt">Plane</span><span class="p">(</span><span class="mf">0.0</span><span class="p">);</span>
    <span class="n">float</span> <span class="n">d2p</span> <span class="o">=</span> <span class="nf">distToPlane</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
    <span class="kt">Sphere</span> <span class="n">s1</span> <span class="o">=</span> <span class="kt">Sphere</span><span class="p">(</span><span class="nf">float3</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">8.0</span><span class="p">);</span>
    <span class="kt">Sphere</span> <span class="n">s2</span> <span class="o">=</span> <span class="kt">Sphere</span><span class="p">(</span><span class="nf">float3</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">6.0</span><span class="p">);</span>
    <span class="kt">Sphere</span> <span class="n">s3</span> <span class="o">=</span> <span class="kt">Sphere</span><span class="p">(</span><span class="nf">float3</span><span class="p">(</span><span class="mi">10</span><span class="o">.</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="o">.</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="o">.</span><span class="p">),</span> <span class="mf">15.0</span><span class="p">);</span>
    <span class="kt">Box</span> <span class="n">b</span> <span class="o">=</span> <span class="kt">Box</span><span class="p">(</span><span class="nf">float3</span><span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="p">,</span> <span class="mi">1</span><span class="o">.</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="o">.</span><span class="p">),</span> <span class="mi">1</span><span class="o">.</span><span class="p">);</span>
    <span class="n">float</span> <span class="n">dtb</span> <span class="o">=</span> <span class="nf">distToBox</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
    <span class="n">float</span> <span class="n">d2s1</span> <span class="o">=</span> <span class="nf">distToSphere</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s1</span><span class="p">);</span>
    <span class="n">float</span> <span class="n">d2s2</span> <span class="o">=</span> <span class="nf">distToSphere</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s2</span><span class="p">);</span>
    <span class="n">float</span> <span class="n">d2s3</span> <span class="o">=</span> <span class="nf">distToSphere</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s3</span><span class="p">);</span>
    <span class="n">float</span> <span class="n">dist</span> <span class="o">=</span> <span class="nf">differenceOp</span><span class="p">(</span><span class="n">d2s1</span><span class="p">,</span> <span class="n">d2s2</span><span class="p">);</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="nf">differenceOp</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">d2s3</span><span class="p">);</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="nf">unionOp</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">dtb</span><span class="p">);</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="nf">unionOp</span><span class="p">(</span><span class="n">d2p</span><span class="p">,</span> <span class="n">dist</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">dist</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>What we did here was to first draw a sphere with a radius of <code class="highlighter-rouge">8</code>, one with a radius of <code class="highlighter-rouge">6</code> and take the difference between them. Since they have the same center the smaller one would not be visible unless we made a cross sectioning somehow. That was exactly why we used a third sphere, much larger and with a different center. We took the difference again and we could now see the result of the first difference. Finally, we added a box in there for a nicer, more diverse view. If you run the playground now, you should see something similar:</p>

<p><img src="https://github.com/MetalKit/images/raw/master/ao_1.png" alt="alt text" title="1" /></p>

<p>Next, let’s delete the <strong>lighting()</strong> and <strong>shadow()</strong> functions as we don’t need them anymore. Also, delete the <strong>Light</strong> struct and its two instances inside the kernel. Now let’s create an <code class="highlighter-rouge">ambient occlusion</code> surrogate function:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">float</span> <span class="nf">ao</span><span class="p">(</span><span class="n">float3</span> <span class="n">pos</span><span class="p">,</span> <span class="n">float3</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">n</span><span class="o">.</span><span class="n">y</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>We’re just using the normal’s <code class="highlighter-rouge">y</code> component for light, which is like having a light directly above. Inside the kernel, right after creating the normal (inside the <code class="highlighter-rouge">else</code> block), call the <code class="highlighter-rouge">ao()</code> function:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">float</span> <span class="n">o</span> <span class="o">=</span> <span class="nf">ao</span><span class="p">(</span><span class="n">ray</span><span class="o">.</span><span class="n">origin</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="n">o</span><span class="p">;</span></code></pre></figure>

<p>There are no shadows anymore, only a basic (directly above) light. If you run the playground now, you should see something similar:</p>

<p><img src="https://github.com/MetalKit/images/raw/master/ao_2.png" alt="alt text" title="2" /></p>

<p>Time to get some real <code class="highlighter-rouge">ambient occlusion</code> now. <em>Ambient</em> means the light does not come from a well defined light source but rather means general background lighting. <em>Occlusion</em> means how much ambient light is blocked. We take the point on the surface where our ray hits and look at what’s around it. If there’s an object anywhere around it, that will block most of the light in the scene, so this is a dark area. If there’s nothing around it, then the area is well lit. For in between situations though, we need to figure out more precisely how much light was occluded. Introducing the <strong>cone tracing</strong> concept.</p>

<p>The idea of <code class="highlighter-rouge">cone tracing</code> is using a cone in the scene, instead of a ray. If the cone intersects an object, we don’t just have a simple <code class="highlighter-rouge">true/false</code> result. We can find out how much of the cone the object covers at that point. But how do we even trace a cone? We could make a cone using many spheres. Try to imagine several spheres along a line, very small at one end, big at the other end. This is as good a cone approximation we can get here. Here are the steps we want to take:</p>

<ul>
  <li>Start at the point on the surface</li>
  <li>March out from the surface, along the normal</li>
  <li>For each iteration, determine how much of the sphere is filled by the scene using distance function</li>
  <li>For each iteration, double the distance from the surface, and also double the size of the sphere</li>
</ul>

<p>Since we are doubling the sphere size at each step, that means we travel out from the surface very fast so we need fewer iterations. That also gives us a nice wide cone. Here is the complete <code class="highlighter-rouge">ao()</code> function:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">float</span> <span class="nf">ao</span><span class="p">(</span><span class="n">float3</span> <span class="n">pos</span><span class="p">,</span> <span class="n">float3</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">float</span> <span class="n">eps</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">;</span>
    <span class="n">pos</span> <span class="o">+=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">eps</span> <span class="o">*</span> <span class="mf">2.0</span><span class="p">;</span>
    <span class="n">float</span> <span class="n">occlusion</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">float</span> <span class="n">i</span><span class="o">=</span><span class="mf">1.0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mf">10.0</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">float</span> <span class="n">d</span> <span class="o">=</span> <span class="nf">distToScene</span><span class="p">(</span><span class="kt">Ray</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="nf">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">)));</span>
        <span class="n">float</span> <span class="n">coneWidth</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">eps</span><span class="p">;</span>
        <span class="n">float</span> <span class="n">occlusionAmount</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="n">coneWidth</span> <span class="o">-</span> <span class="n">d</span><span class="p">,</span> <span class="mi">0</span><span class="o">.</span><span class="p">);</span>
        <span class="n">float</span> <span class="n">occlusionFactor</span> <span class="o">=</span> <span class="n">occlusionAmount</span> <span class="o">/</span> <span class="n">coneWidth</span><span class="p">;</span>
        <span class="n">occlusionFactor</span> <span class="o">*=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="p">(</span><span class="n">i</span> <span class="o">/</span> <span class="mf">10.0</span><span class="p">);</span>
        <span class="n">occlusion</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="n">occlusion</span><span class="p">,</span> <span class="n">occlusionFactor</span><span class="p">);</span>
        <span class="n">eps</span> <span class="o">*=</span> <span class="mf">2.0</span><span class="p">;</span>
        <span class="n">pos</span> <span class="o">+=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">eps</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nf">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="n">occlusion</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>Let’s go over the code, line by line. First we define the <strong>eps</strong> variable which is both the cone radius and the distance from the surface. Then, we move away a bit to prevent hitting surface we’re moving away from. Next, we define the <strong>occlusion</strong> variable which is initially nil (scene is all lit). Then, we enter the loop and at each iteration we get the scene distance, double the radius so we know how much of the cone is occluded, make sure we eliminate negative values for the light, get the amount (ratio) of occlusion scaled by the cone width, set a lower impact for more distant occluders (the iteration count gives us this), preserve the highest occlusion value so far, double the <strong>eps</strong> value and finally move along the normal by that distance. We then return a value that represents how much light reaches this point.</p>

<p>Now lets have a <strong>camera</strong> struct. It needs a position. Instead of camera direction we’ll just store a <strong>ray</strong>. Finally the <strong>rayDivergence</strong> gives us a factor of how much the ray spreads.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">struct</span> <span class="kt">Camera</span> <span class="p">{</span>
    <span class="n">float3</span> <span class="n">position</span><span class="p">;</span>
    <span class="kt">Ray</span> <span class="n">ray</span> <span class="o">=</span> <span class="kt">Ray</span><span class="p">(</span><span class="nf">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nf">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
    <span class="n">float</span> <span class="n">rayDivergence</span><span class="p">;</span>
    <span class="kt">Camera</span><span class="p">(</span><span class="n">float3</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">Ray</span> <span class="n">r</span><span class="p">,</span> <span class="n">float</span> <span class="n">div</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">position</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
        <span class="n">ray</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span>
        <span class="n">rayDivergence</span> <span class="o">=</span> <span class="n">div</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>

<p>Next, we need to set up the camera. It needs the camera position, a look-at target, the field of view and the view coordinates:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kt">Camera</span> <span class="nf">setupCam</span><span class="p">(</span><span class="n">float3</span> <span class="n">pos</span><span class="p">,</span> <span class="n">float3</span> <span class="n">target</span><span class="p">,</span> <span class="n">float</span> <span class="n">fov</span><span class="p">,</span> <span class="n">float2</span> <span class="n">uv</span><span class="p">,</span> <span class="n">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">uv</span> <span class="o">*=</span> <span class="n">fov</span><span class="p">;</span>
    <span class="n">float3</span> <span class="n">cw</span> <span class="o">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">target</span> <span class="o">-</span> <span class="n">pos</span> <span class="p">);</span>
    <span class="n">float3</span> <span class="n">cp</span> <span class="o">=</span> <span class="nf">float3</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">);</span>
    <span class="n">float3</span> <span class="n">cu</span> <span class="o">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="nf">cross</span><span class="p">(</span><span class="n">cw</span><span class="p">,</span> <span class="n">cp</span><span class="p">));</span>
    <span class="n">float3</span> <span class="n">cv</span> <span class="o">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="nf">cross</span><span class="p">(</span><span class="n">cu</span><span class="p">,</span> <span class="n">cw</span><span class="p">));</span>
    <span class="kt">Ray</span> <span class="n">ray</span> <span class="o">=</span> <span class="kt">Ray</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">uv</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">cu</span> <span class="o">+</span> <span class="n">uv</span><span class="o">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">cv</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">cw</span><span class="p">));</span>
    <span class="kt">Camera</span> <span class="n">cam</span> <span class="o">=</span> <span class="kt">Camera</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">ray</span><span class="p">,</span> <span class="n">fov</span> <span class="o">/</span> <span class="nf">float</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
    <span class="k">return</span> <span class="n">cam</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Now we just need to initialize the camera. We’ll have it circling the scene, looking at the center <strong>(0,0,0)</strong>. Add this to the kernel, just after you set up the <code class="highlighter-rouge">uv</code> variable:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">float3</span> <span class="n">camPos</span> <span class="o">=</span> <span class="nf">float3</span><span class="p">(</span><span class="nf">sin</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="o">.</span><span class="p">,</span> <span class="mi">3</span><span class="o">.</span><span class="p">,</span> <span class="nf">cos</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="o">.</span><span class="p">);</span>
<span class="kt">Camera</span> <span class="n">cam</span> <span class="o">=</span> <span class="nf">setupCam</span><span class="p">(</span><span class="n">camPos</span><span class="p">,</span> <span class="nf">float3</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="mf">1.25</span><span class="p">,</span> <span class="n">uv</span><span class="p">,</span> <span class="n">width</span><span class="p">);</span></code></pre></figure>

<p>Then delete the <strong>ray</strong> variable, and replace everywhere it was used in the kernel with <strong>cam.ray</strong> instead. If you run the playground now, you should see something similar:</p>

<p><img src="https://github.com/MetalKit/images/raw/master/ao_3.png" alt="alt text" title="3" /></p>

<p>To see an animated version of this code, use the <code class="highlighter-rouge">Shadertoy</code> embedded player below. Just hover over it and click the play button to watch it in action:</p>

<iframe width="740" height="450" frameborder="0" src="https://www.shadertoy.com/embed/4ltSWf" allowfullscreen=""></iframe>
<p><br /></p>

<p>The <a href="https://github.com/MetalKit/metal">source code</a> is posted on <code class="highlighter-rouge">Github</code> as usual. I want to thanks <a href="https://twitter.com/_psonice">Chris</a> again for his assistance.</p>

<p>Until next time!</p>

  </div>

  <!-- 
    

   -->

  <div class="a2a_kit a2a_kit_size_32 a2a_default_style"><br />
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_reddit"></a>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_linkedin"></a>
    <a class="a2a_button_email"></a>
  </div>
  <script async src="https://static.addtoany.com/menu/page.js"></script>
</article>
      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper" align="center">

    <!-- <p class="rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a></p> -->

    <!-- Begin MailChimp Signup Form --><p>
    <link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
    <style type="text/css">
      #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
    </style>
    <div id="mc_embed_signup">
      <form action="//github.us12.list-manage.com/subscribe/post?u=5daab344aba23020915a23c29&amp;id=69e4a7c3af" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <div id="mc_embed_signup_scroll">
        <label for="mce-EMAIL">Subscribe to be notified of new posts.</label>
        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_5daab344aba23020915a23c29_69e4a7c3af" tabindex="-1" value=""></div>
          <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
          </div>
      </form>
    </div>
    </p><!--End mc_embed_signup-->

    <!-- <h2 class="footer-heading">The Metal Framework</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <p class="rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a></p>
        <ul class="contact-list">
          <li>
            
              The Metal Framework
            
            </li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/MetalKit"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">MetalKit</span></a>

          </li>
          
          
          <li>
            <a href="https://twitter.com/gpu3d"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">gpu3d</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        
          <a href="https://twitter.com/gpu3d"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">gpu3d</span></a>

        
        <p>Resources and tutorials for Metal, MetalKit and Metal Performance Shaders.
</p>
      </div>
    </div> -->

  </div>

</footer>


  </body>

</html>
